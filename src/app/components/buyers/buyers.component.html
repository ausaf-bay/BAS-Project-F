
<!--  <div class="buyer-container">
    <h2>Verified Seller Data</h2>
    <div *ngIf="buyerData.length === 0" class="no-data">
      No verified data available.
    </div>
  
    <div *ngFor="let buyer of buyerData" class="buyer-card">
      <h3>Primary Technology: {{ buyer.primary_technology }}</h3>
      <p><strong>Important:</strong> {{ buyer.important ? 'Yes' : 'No' }}</p>
  
      <p><strong>Google Patent Link:</strong> 
        <a [href]="buyer.google_patent_link" target="_blank">{{ buyer.google_patent_link }}</a>
      </p>
      <p><strong>Additional Notes:</strong> {{ buyer.additional_notes }}</p>
      <div *ngIf="buyer.file">
        <p><strong>File:</strong> <a [href]="buyer.file" target="_blank">Download</a></p>
      </div>
      <p><strong>Entity Status:</strong> {{ buyer.entity_status }}</p>
<p><strong>Acquisition Status:</strong> {{ buyer.acquisition_status }}</p>
<p><strong>Bay Rating:</strong> {{ buyer.bay_rating }}</p>
<p><strong>Enforceability:</strong> {{ buyer.enforceability }}</p>
<p><strong>Target:</strong> {{ buyer.target }}</p>
<p><strong>Company Name:</strong> {{ buyer.company_name }}</p>
<p><strong>Admin Contact:</strong> {{ buyer.admin_contact }}</p>
<p><strong>Admin Email:</strong> {{ buyer.admin_email }}</p>
<p><strong>Upcoming Fees:</strong> {{ buyer.upcoming_fees }}</p>
<p><strong>Title:</strong> {{ buyer.title }}</p>
<p><strong>Abstract:</strong> {{ buyer.abstract }}</p>
<p><strong>First Claim:</strong> {{ buyer.first_claim }}</p>
<p><strong>Filing Date:</strong> {{ buyer.filing_date }}</p>
<p><strong>Grant Date:</strong> {{ buyer.grant_date }}</p>
<p><strong>Current Assignee:</strong> {{ buyer.current_assignee }}</p>
<p><strong>IP Type:</strong> {{ buyer.ip_type }}</p>
<p><strong>Family Members:</strong> {{ buyer.family_members }}</p>
<p><strong>Concepts:</strong> {{ buyer.concepts }}</p>
<p><strong>Keywords:</strong> {{ buyer.keywords }}</p>
<p><strong>Technologies:</strong> {{ buyer.technologies }}</p>
      <ng-container *ngIf="!submissionStatus.get(buyer.id); else resubmitTemplate">
        <div class="actions">
          <label>
            <input
              type="radio"
              [name]="'action_' + buyer.id"
              (change)="selectAction(buyer.id, 'Chase')"
            /> Chase
          </label>
          <label>
            <input
              type="radio"
              [name]="'action_' + buyer.id"
              (change)="selectAction(buyer.id, 'Skip')"
            /> Skip
          </label>
          <label>
            <input
              type="radio"
              [name]="'action_' + buyer.id"
              (change)="selectAction(buyer.id, 'Delay')"
            /> Delay
          </label>
        </div>
        <div class="submit-section">
          <button
            type="button"
            [disabled]="!selectedActions.get(buyer.id)"
            (click)="confirmSubmit(buyer.id)"
          >
            Submit
          </button>
        </div>
      </ng-container>
  
      <ng-template #resubmitTemplate>
        <div class="resubmit-message">
          <p>You have submitted the data. Kindly resubmit for changes.</p>
          <button type="button" (click)="enableResubmit(buyer.id)">Resubmit</button>
        </div>
      </ng-template>
    </div>
  </div> 

  -->
  <!-- Latest <div class="filter-container">
    <h2>Filter Buyers</h2>
    <div class="filter-form">
      <label>
        Select By Category:
        <input type="text" [(ngModel)]="filters.primary_technology" (input)="applyFilters()" />
      </label>
      <label>
        Important:
        <select [(ngModel)]="filters.important" (change)="applyFilters()">
          <option value="">Any</option>
          <option value="true">Yes</option>
          <option value="false">No</option>
        </select>
      </label>
      <label>
        Entity Status:
        <select [(ngModel)]="filters.entity_status" (change)="applyFilters()">
          <option value="">Any</option>
          <option value="micro">Micro</option>
          <option value="small">Small</option>
          <option value="large">Large</option>
        </select>
      </label>
      <label>
        Acquisition Status:
        <select [(ngModel)]="filters.acquisition_status" (change)="applyFilters()">
          <option value="">Any</option>
          <option value="open">Open</option>
          <option value="closed">Closed</option>
        </select>
      </label>
      <label>
        Bay Rating:
        <select [(ngModel)]="filters.bay_rating" (change)="applyFilters()">
          <option value="">Any</option>
          <option value="high">High</option>
          <option value="medium">Medium</option>
          <option value="low">Low</option>
        </select>
      </label>
      <label>
        Keywords:
        <input type="text" [(ngModel)]="filters.keywords" (input)="applyFilters()" />
      </label>
      <label>
        Patent Number:
        <input type="text" [(ngModel)]="filters.patent_number" (input)="applyFilters()" />
      </label>
      <label>
        Company Name:
        <input type="text" [(ngModel)]="filters.company_name" (input)="applyFilters()" />
      </label>
      <label>
        Target:
        <input type="text" [(ngModel)]="filters.target" (input)="applyFilters()" />
      </label>
      <button type="button" (click)="clearFilters()">Clear Filters</button>
    </div>
  </div>
  
  <div class="buyer-container">
    <h2>Verified Seller Data</h2>
    <div *ngIf="filteredData.length === 0" class="no-data">
      No matching data found.
    </div>
  
    <div *ngFor="let buyer of filteredData" class="buyer-card">
      <h3>Patent Number:{{ buyer.patent_number }}</h3>
      <h3>Primary Technology: {{ buyer.primary_technology }}</h3>
      <p><strong>Entity Status:</strong> {{ buyer.entity_status }}</p>
      <div *ngIf="buyer.file">
        <p><strong>Claim_Charts:</strong> <a [href]="buyer.file" target="_blank">Download</a></p>
      </div>
      
<p><strong>Acquisition Status:</strong> {{ buyer.acquisition_status }}</p>
<p><strong>Bay Rating:</strong> {{ buyer.bay_rating }}</p>
<p>Buying Options</p>
      <ng-container *ngIf="!submissionStatus.get(buyer.id); else resubmitTemplate">
        <div class="actions">
          <label>
            <input
              type="radio"
              [name]="'action_' + buyer.id"
              (change)="selectAction(buyer.id, 'Chase')"
            /> Chase
          </label>
          <label>
            <input
              type="radio"
              [name]="'action_' + buyer.id"
              (change)="selectAction(buyer.id, 'Skip')"
            /> Skip
          </label>
          <label>
            <input
              type="radio"
              [name]="'action_' + buyer.id"
              (change)="selectAction(buyer.id, 'Delay')"
            /> Delay
          </label>
        </div>
        <div class="submit-section">
          <button
            type="button"
            [disabled]="!selectedActions.get(buyer.id)"
            (click)="confirmSubmit(buyer.id)"
          >
            Submit
          </button>
        </div>
      </ng-container>
      <button (click)="viewPatentDetails(buyer.id)">View Details</button>
      <ng-template #resubmitTemplate>
        <div class="resubmit-message">
          <p>You have submitted the data. Kindly resubmit for changes.</p>
          <button type="button" (click)="enableResubmit(buyer.id)">Resubmit</button>
        </div>
      </ng-template>
    </div>
  </div>  -->

  <div class="container">
   
    <aside class="sidebar">
      <h2>Filters</h2>
      <div class="filter-group">
        <label> Select by Category:
          <input type="text" [(ngModel)]="filters.primary_technology" (input)="applyFilters()" placeholder="Search...">
        </label>
      </div>
      
      <div class="filter-group">
        <label> Entity Status:
          <select [(ngModel)]="filters.entity_status" (change)="applyFilters()">
            <option value="">Any</option>
            <option value="micro">Micro</option>
            <option value="small">Small</option>
            <option value="large">Large</option>
          </select>
        </label>
      </div>
  
      <div class="filter-group">
        <label> Acquisition Status:
          <select [(ngModel)]="filters.acquisition_status" (change)="applyFilters()">
            <option value="">Any</option>
            <option value="open">Open</option>
            <option value="closed">Closed</option>
          </select>
        </label>
      </div>
  
      <div class="filter-group">
        <label> Bay Rating:
          <select [(ngModel)]="filters.bay_rating" (change)="applyFilters()">
            <option value="">Any</option>
            <option value="high">High</option>
            <option value="medium">Medium</option>
            <option value="low">Low</option>
          </select>
        </label>
      </div>
      <div class="filter-group">
        <label> Targets:
          <input type="text" [(ngModel)]="filters.target" (input)="applyFilters()" placeholder="Search...">
        </label>
      </div>
      <div class="filter-group">
        <label>Filter by Expiry (Years Remaining):</label>
        <button (click)="adjustExpiryYears(-1)">-</button>
        <span>{{ expiryYears }}</span>
        <button (click)="adjustExpiryYears(1)">+</button>
      </div>
      <div class="filter-group">
        <label> Patent Number:
          <input type="text" [(ngModel)]="filters.patent_number" (input)="applyFilters()" placeholder="Search...">
        </label>
      </div>
      <button class="filter-btn" (click)="clearFilters()">Clear Filters</button>
    </aside>
  
    <main class="content">
      <h2>Verified Seller Data</h2>
      <table class="data-table">
        <thead>
          <tr>
            <th>Sr. No.</th>
            <th>Patent No.</th>
            <th>Tech Domain</th>
            <th>Entity Status</th>
            <th>Expiry</th>
            <th>Claim Charts</th>
            <th>Status of Acquisition</th>
            <th>Buying Options</th>
            <th>Bay Rating</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let buyer of filteredData; let i = index">
            <td>{{ i + 1 }}</td>
            <td><a [href]="'/buyer-details/' + buyer.id" target="_blank">{{ buyer.patent_number }}</a></td>


            <td>{{ buyer.primary_technology }}</td>
            <td>{{ buyer.entity_status }}</td>
            <td>{{ buyer.expiry }}</td>
            <td>
              <a *ngIf="buyer.file" [href]="buyer.file" target="_blank">
                📄 Download
              </a>
            </td>
            <td>{{ buyer.acquisition_status }}</td>
            <td>
              <ng-container *ngIf="!submissionStatus.get(buyer.id); else resubmitTemplate">
                <div class="actions">
                  <label>
                    <input
                      type="radio"
                      [name]="'action_' + buyer.id"
                      (change)="selectAction(buyer.id, 'Chase')"
                    /> Chase
                  </label>
                  <label>
                    <input
                      type="radio"
                      [name]="'action_' + buyer.id"
                      (change)="selectAction(buyer.id, 'Skip')"
                    /> Skip
                  </label>
                  <label>
                    <input
                      type="radio"
                      [name]="'action_' + buyer.id"
                      (change)="selectAction(buyer.id, 'Delay')"
                    /> Delay
                  </label>
                </div>
                <div class="submit-section">
                  <button
                    type="button"
                    [disabled]="!selectedActions.get(buyer.id)"
                    (click)="confirmSubmit(buyer.id)"
                  >
                    Submit
                  </button>
                </div>
              </ng-container>
              
              <ng-template #resubmitTemplate>
                <div class="resubmit-message">
                  <p>You have submitted the data. Kindly resubmit for changes.</p>
                  <button type="button" (click)="enableResubmit(buyer.id)">Resubmit</button>
                </div>
              </ng-template>
            </td>
            <td>{{ buyer.bay_rating }}</td>
          </tr>
        </tbody>
      </table>
    </main>
  </div>
  